<!-- DÃ©tail du programme -->
<div *ngIf="program; else loadingTemplate">

  <!-- âœ… Bulle informative si rapport dÃ©jÃ  soumis -->
  <app-report-status [programId]="program.id" />

  <h2>DÃ©tail du programme</h2>
  <h3>{{ program.title }}</h3>
  <p>{{ program.description }}</p>
  <p><strong>Entreprise :</strong> {{ program.companyName }}</p>
  <p><strong>Status :</strong> {{ program.status }}</p>

  <a routerLink="/programs">â¬… Retour Ã  la liste</a>

  <!-- Composant de soumission -->
  <hr class="my-4" />
  <app-report-submit [programId]="program.id" />

  <!-- âœ… Bouton Publier -->
  <div class="mt-4">
    <button (click)="publish()" [disabled]="loading()" class="btn btn-primary">
      Publier (100 â‚¬)
    </button>
    <p *ngIf="error()" class="text-danger mt-2">{{ error() }}</p>
  </div>

</div>

<!-- ðŸ”„ Template de chargement renommÃ© pour Ã©viter conflit avec le signal -->
<ng-template #loadingTemplate>
  <p>Chargement du programme...</p>
</ng-template>
