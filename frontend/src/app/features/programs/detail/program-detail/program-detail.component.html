<!-- DÃ©tail du programme -->
<div *ngIf="program; else loadingTemplate">

  <!-- âœ… Bulle informative si rapport dÃ©jÃ  soumis -->
  <app-report-status [programId]="getId()" />

  <h2 class="text-2xl font-semibold mb-2">DÃ©tail du programme</h2>
  <h3 class="text-xl font-medium mb-3">{{ program.title }}</h3>

  <!-- âœ… Description HTML (TinyMCE) -->
  <div class="prose max-w-none" [innerHTML]="safeDescription()"></div>

  <div class="mt-4 text-sm text-gray-600">
    <p><strong>Entreprise :</strong> {{ program.companyName }}</p>
    <p><strong>Status :</strong> {{ program.status }}</p>
  </div>

  <a routerLink="/programs" class="underline block mt-4">â¬… Retour Ã  la liste</a>

  <!-- Composant de soumission -->
  <hr class="my-4" />
  <app-report-submit [programId]="getId()" />

  <!-- âœ… Bouton Publier -->
  <div class="mt-4">
    <button (click)="publish()" [disabled]="loading()" class="btn btn-primary">
      Publier (100 â‚¬)
    </button>
    <p *ngIf="error()" class="text-danger mt-2">{{ error() }}</p>
  </div>

</div>

<!-- ðŸ”„ Template de chargement -->
<ng-template #loadingTemplate>
  <p>Chargement du programme...</p>
</ng-template>
