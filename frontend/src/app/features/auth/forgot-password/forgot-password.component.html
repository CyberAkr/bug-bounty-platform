<div class="auth-wrapper">
  <div class="auth-card mx-auto">
    <div class="text-center mb-6">
      <span class="material-icons text-[var(--accent)] text-4xl mb-2">mark_email_unread</span>
      <h2 class="text-xl font-semibold">{{ 'auth.reset.title' | translate }}</h2>
      <p class="text-sm opacity-80">{{ 'auth.reset.requestHint' | translate }}</p>
    </div>

    <form (ngSubmit)="submit()" class="space-y-4" novalidate>
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>{{ 'auth.login.email' | translate }}</mat-label>
        <mat-icon matPrefix>mail</mat-icon>
        <input
          matInput
          type="email"
          name="email"
          [ngModel]="email()"
          (ngModelChange)="email.set($event)"
          required
          email
          autocomplete="email"
        />
      </mat-form-field>

      <div class="form-actions">
        <a routerLink="/login" class="btn-ghost mat-mdc-button">
          {{ 'verify.backToLogin' | translate }}
        </a>

        <button
          mat-flat-button
          color="primary"
          class="btn-primary flex items-center gap-2"
          type="submit"
          [disabled]="loading()"
        >
          <mat-icon *ngIf="loading()" class="animate-spin">hourglass_top</mat-icon>
          {{ loading() ? ('auth.reset.requestLoading' | translate) : ('auth.reset.requestSend' | translate) }}
        </button>
      </div>
    </form>

    <p class="success-text text-center mt-4" *ngIf="success()">{{ success() | translate }}</p>
    <p class="error-text text-center mt-2" *ngIf="error()">{{ error() | translate }}</p>

    <div class="mt-6 text-center text-sm" *ngIf="email()">
      <a [routerLink]="'/reset-password'" [queryParams]="{ email: email() }" class="text-[var(--accent)] font-medium hover:underline">
        {{ 'auth.reset.goToCode' | translate }}
      </a>
    </div>
  </div>
</div>
