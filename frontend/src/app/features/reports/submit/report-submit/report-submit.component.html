<h2>Soumettre un rapport</h2>

<form (ngSubmit)="submitReport()" #form="ngForm" class="space-y-4">
  <!-- S√©lection du programme (optionnel si d√©j√† fourni) -->
  <div *ngIf="!programId">
    <label for="program">Programme :</label>
    <select [(ngModel)]="selectedProgramId" name="program" required>
      <option *ngFor="let p of programs()" [value]="p.id">{{ p.title }}</option>
    </select>
  </div>

  <!-- S√©v√©rit√© -->
  <div>
    <label for="severity">S√©v√©rit√© :</label>
    <select [(ngModel)]="severity" name="severity" required>
      <option value="LOW">Faible</option>
      <option value="MEDIUM">Moyenne</option>
      <option value="HIGH">√âlev√©e</option>
    </select>
  </div>

  <!-- Titre/Description -->
  <div>
    <label for="title">Description :</label>
    <textarea [(ngModel)]="title" name="title" rows="4" required></textarea>
  </div>

  <!-- Upload fichier PDF -->
  <div>
    <label for="file">Fichier PDF :</label>
    <input type="file" accept="application/pdf" (change)="onFileSelected($event)" required />
  </div>

  <button
    type="submit"
    [disabled]="!selectedFile"
    class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
  >
    üì§ Envoyer
  </button>
</form>
